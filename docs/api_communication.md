# API Документация: Взаимодействие Frontend и Backend

## Основные эндпоинты

### Управление ингредиентами

#### Получение списка ингредиентов
- **Метод:** GET
- **Эндпоинт:** `/api/ingredients`
- **Описание:** Возвращает все доступные ингредиенты с их питательной ценностью
- **Пример ответа:**
```json
[
  {
    "id": 1,
    "name": "Курица",
    "nutrition": {
      "calories": 165,
      "proteins": 31,
      "fats": 3.6,
      "carbohydrates": 0
    }
  }
]
```

#### Добавление ингредиента
- **Метод:** POST
- **Эндпоинт:** `/api/ingredients`
- **Тело запроса:**
```json
{
  "name": "Новый ингредиент",
  "nutrition": {
    "calories": 100,
    "proteins": 10,
    "fats": 5,
    "carbohydrates": 20
  }
}
```

#### Обновление ингредиента
- **Метод:** PUT
- **Эндпоинт:** `/api/ingredients/{id}`
- **Тело запроса:**
```json
{
  "nutrition": {
    "calories": 120,
    "proteins": 15,
    "fats": 3,
    "carbohydrates": 10
  }
}
```

#### Удаление ингредиента
- **Метод:** DELETE
- **Эндпоинт:** `/api/ingredients/{id}`

### Управление блюдами

#### Получение списка блюд
- **Метод:** GET
- **Эндпоинт:** `/api/dishes`
- **Пример ответа:**
```json
[
  {
    "id": 1,
    "name": "Салат Цезарь",
    "weight_g": 250.0,
    "energy_kcal": 320.5,
    "protein_g": 18.2,
    "carbohydrates_g": 12.7,
    "fat_g": 22.3
  }
]
```

#### Получение состава блюда
- **Метод:** GET
- **Эндпоинт:** `/api/dish/{dish_id}`
- **Пример ответа:**
```json
{
  "id": 1,
  "name": "Салат Цезарь",
  "ingredients": [
    {
      "name": "Курица",
      "amount": 100,
      "unit": "г",
      "calories": 165,
      "proteins": 31,
      "fats": 3.6,
      "carbohydrates": 0
    }
  ]
}
```

#### Создание/обновление блюд
- **Метод:** POST
- **Эндпоинт:** `/api/dish/new` (создание) или `/api/dish/{dish_id}` (обновление)
- **Тело запроса:**
```json
{
  "name": "Новое блюдо",
  "ingredients": [
    {"name": "Ингредиент1", "amount": 100},
    {"name": "Ингредиент2", "amount": 50}
  ]
}
```

### Управление целями питания

#### Установка целей
- **Метод:** POST
- **Эндпоинт:** `/api/goals`
- **Тело запроса:**
```json
{
  "protein": 150,
  "fat": 70,
  "carbohydrates": 200,
  "calories": 2500
}
```

#### Получение текущих целей
- **Метод:** GET
- **Эндпоинт:** `/api/goals`

### Обработка меню

#### Расчет состава меню
- **Метод:** POST
- **Эндпоинт:** `/api/menu`
- **Тело запроса:**
```json
{
  "dishes": [
    {"id": 1, "portions": 2},
    {"id": 2, "portions": 1}
  ]
}
```
- **Описание:** Возвращает суммарный состав ингредиентов и питательных веществ для выбранного меню
