# API Документация: Взаимодействие Frontend и Backend

## Основные эндпоинты

### Управление ингредиентами

#### Получение списка ингредиентов
- **Метод:** GET
- **Эндпоинт:** `/api/ingredients`
- **Описание:** Возвращает все доступные ингредиенты с их питательной ценностью
- **Пример ответа:**
```json
[
  {
    "id": 1,
    "name": "Курица",
    "calories": 165,
    "protein_g": 31,
    "fat_g": 3.6,
    "carbohydrate_g": 0
  }
]
```

#### Добавление ингредиента
- **Метод:** POST
- **Эндпоинт:** `/api/ingredients`
- **Тело запроса:**
```json
{
  "name": "Новый ингредиент",
  "calories": 100,
  "protein_g": 10,
  "fat_g": 5,
  "carbohydrate_g": 20
}
```

#### Обновление ингредиента
- **Метод:** PUT
- **Эндпоинт:** `/api/ingredients/{id}`
- **Тело запроса:**
```json
{
  "calories": 120,
  "protein_g": 15,
  "fat_g": 3,
  "carbohydrate_g": 10
}
```

#### Удаление ингредиента
- **Метод:** DELETE
- **Эндпоинт:** `/api/ingredients/{id}`

### Управление блюдами

#### Получение списка блюд
- **Метод:** GET
- **Эндпоинт:** `/api/dishes`
- **Описание:** Возвращает список всех блюд с их общей питательной ценностью
- **Пример ответа:**
```json
[
  {
    "id": 1,
    "name": "Салат Цезарь",
    "total_weight_g": 250.0,
    "energy_kcal": 320.5,
    "protein_g": 18.2,
    "carbohydrate_g": 12.7,
    "fat_g": 22.3
  }
]
```

#### Получение деталей блюда
- **Метод:** GET
- **Эндпоинт:** `/api/dishes/{id}`
- **Описание:** Возвращает детальную информацию о блюде, включая состав ингредиентов
- **Пример ответа:**
```json
{
  "id": 1,
  "name": "Салат Цезарь",
  "total_weight_g": 250.0,
  "energy_kcal": 320.5,
  "protein_g": 18.2,
  "carbohydrate_g": 12.7,
  "fat_g": 22.3,
  "ingredients": [
    {
      "name": "Курица",
      "amount_g": 100,
      "calories": 165,
      "protein_g": 31,
      "fat_g": 3.6,
      "carbohydrate_g": 0
    }
  ]
}
```

#### Создание блюда
- **Метод:** POST
- **Эндпоинт:** `/api/dishes`
- **Описание:** Создает новое блюдо на основе предоставленных ингредиентов
- **Тело запроса:**
```json
{
  "name": "Новое блюдо",
  "ingredients": [
    {"name": "Ингредиент1", "amount_g": 100},
    {"name": "Ингредиент2", "amount_g": 50}
  ]
}
```

#### Обновление блюда
- **Метод:** PUT
- **Эндпоинт:** `/api/dishes/{id}`
- **Описание:** Обновляет существующее блюдо
- **Тело запроса:**
```json
{
  "name": "Обновленное блюдо",
  "ingredients": [
    {"name": "Ингредиент1", "amount_g": 120},
    {"name": "Ингредиент3", "amount_g": 75}
  ]
}
```

#### Удаление блюда
- **Метод:** DELETE
- **Эндпоинт:** `/api/dishes/{id}`

### Управление целями питания

#### Установка целей
- **Метод:** POST
- **Эндпоинт:** `/api/goals`
- **Описание:** Устанавливает пользовательские цели по питанию
- **Тело запроса:**
```json
{
  "protein_g": 150,
  "fat_g": 70,
  "carbohydrate_g": 200,
  "energy_kcal": 2500
}
```

#### Получение текущих целей
- **Метод:** GET
- **Эндпоинт:** `/api/goals`
- **Описание:** Возвращает текущие установленные цели питания
- **Пример ответа:**
```json
{
  "protein_g": 150,
  "fat_g": 70,
  "carbohydrate_g": 200,
  "energy_kcal": 2500
}
```

### Обработка меню

#### Расчет состава меню
- **Метод:** POST
- **Эндпоинт:** `/api/menu/calculate`
- **Описание:** Рассчитывает суммарную питательную ценность для указанного набора блюд
- **Тело запроса:**
```json
{
  "dishes": [
    {"id": 1, "quantity": 2},
    {"id": 2, "quantity": 1}
  ]
}
```
- **Пример ответа:**
```json
{
  "total_energy_kcal": 850.5,
  "total_protein_g": 45.2,
  "total_carbohydrate_g": 32.7,
  "total_fat_g": 52.3,
  "dishes": [
    {
      "id": 1,
      "name": "Салат Цезарь",
      "quantity": 2,
      "energy_kcal": 641.0,
      "protein_g": 36.4,
      "carbohydrate_g": 25.4,
      "fat_g": 44.6
    },
    {
      "id": 2,
      "name": "Суп",
      "quantity": 1,
      "energy_kcal": 209.5,
      "protein_g": 8.8,
      "carbohydrate_g": 7.3,
      "fat_g": 7.7
    }
  ]
}
```
